{% extends "base.html" %}
{% block title %}Account{% endblock title %}
{% block content %}

    <div class="container">
        <h2>–ü–æ—Ç–æ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
        <ul>
            <li><strong>–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</strong> {{ account.user.username }}</li>
            <li><strong>Email:</strong> {{ account.user.email }}</li>
            <li><strong>–ë–∞–ª–∞–Ω—Å:</strong> {{ account.balance }}</li>
            <li><strong>–°—Ç–≤–æ—Ä–µ–Ω–æ:</strong> {{ account.created_at|date:"Y-m-d H:i" }}</li>
        </ul>

        {% if account.image and account.image.name %}
            <p><strong>–§–æ—Ç–æ:</strong></p>
            <img src="{{ account.image.url }}" alt="Account image"
                 style="max-width:150px; border-radius: 8px; border: 2px solid #555;">
        {% else %}
            <p><em>–§–æ—Ç–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–µ.</em></p>
        {% endif %}
    </div>

    <!-- –ë–ª–æ–∫ —Å —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–π—Å—è —Ñ–æ—Ä–º–æ–π -->
    <div class="container" style="margin-top: 20px;">
        <details>
            <summary style="font-size: 1.3rem; cursor: pointer; font-weight: bold; padding: 10px 0;">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∞–∫–∞—É–Ω—Ç
            </summary>
            <form method="post" enctype="multipart/form-data" class="form-flex" style="margin-top: 15px;">
                {% csrf_token %}

                <div style="flex: 1 1 300px;">
                    <label for="{{ account_form.name.id_for_label }}">–ù–∞–∑–≤–∞:</label>
                    {{ account_form.name }}
                </div>

                <div style="flex: 1 1 300px;">
                    <label for="{{ account_form.balance.id_for_label }}">–ë–∞–ª–∞–Ω—Å:</label>
                    {{ account_form.balance }}
                </div>

                <div style="flex: 1 1 300px;">
                    <label for="{{ account_form.currency.id_for_label }}">–í–∞–ª—é—Ç–∞:</label>
                    {{ account_form.currency }}
                </div>

                <div style="flex: 1 1 300px;">
                    <label for="{{ account_form.image.id_for_label }}">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è:</label><br>

                    {% if account.image and account.image.name %}
                        <div style="margin-bottom: 8px;">
                            <img src="{{ account.image.url }}" alt="Account image"
                                 style="max-width: 150px; border-radius: 8px; border: 2px solid #555;"><br>
                            <span style="font-size: 0.9rem; color: #ccc;">–§–∞–π–ª –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ</span>
                        </div>

                        {{ account_form.image }}

                        {% if account_form.image_clear %}
                            <div style="margin-top: 6px;">
                                {{ account_form.image_clear }}
                                <label for="{{ account_form.image_clear.id_for_label }}">–û—á–∏—Å—Ç–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
                            </div>
                        {% endif %}

                    {% else %}
                        <em>–§–æ—Ç–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–µ.</em>
                        {{ account_form.image }}
                    {% endif %}
                </div>


                <div style="flex: 1 1 100%;">
                    <button type="submit" class="logout-button">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </form>
        </details>
    </div>

{% endblock content %}
