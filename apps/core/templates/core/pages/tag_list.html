{% extends "base.html" %}
{% block title %}Tags{% endblock title %}
{% block content %}

    <div class="container">
        <h2>–°–ø–∏—Å–æ–∫ —Ç–µ–≥—ñ–≤</h2>
        <a href="{% url 'core:tag_create' %}" class="btn btn-success mb-3">‚ûï –î–æ–¥–∞—Ç–∏ —Ç–µ–≥</a>

        {% if tags %}
            <form method="get" class="mb-3">
                <label for="category">–§—ñ–ª—å—Ç—Ä –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é:</label>
                <select name="category" id="category" class="form-select" style="width: auto; display: inline-block;">
                    <option value="">–£—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}"
                                {% if selected_category_id == category.id %}selected{% endif %}>
                            {{ category.name }}
                        </option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-secondary">üîç –ü–æ—à—É–∫</button>
            </form>

            <table class="table table-striped">
                <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞</th>
                    <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                    <th>–î—ñ—ó</th>
                </tr>
                </thead>
                <tbody>
                {% for tag in tags %}
                    <tr>
                        <td>{{ tag.name }}</td>
                        <td>{{ tag.category.name }}</td>
                        <td>
                            <a href="{% url 'core:tag_update' tag.pk %}" class="btn btn-sm btn-primary">‚úèÔ∏è</a>
                            <form method="post" action="{% url 'core:tag_delete' tag.pk %}" style="display:inline;">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-sm btn-danger"
                                        onclick="return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ?')">üóëÔ∏è
                                </button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>–¢–µ–≥—ñ–≤ —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ.</p>
        {% endif %}
    </div>

{% endblock content %}
